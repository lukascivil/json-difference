(function(c,l){typeof exports=="object"&&typeof module<"u"?l(exports):typeof define=="function"&&define.amd?define(["exports"],l):(c=typeof globalThis<"u"?globalThis:c||self,l(c["json-difference"]={}))})(this,function(c){"use strict";const l=(n,o)=>{const f=[];for(const e in n)if(o.hasOwnProperty(e)){if(typeof n[e]=="object"&&typeof o[e]=="object"&&JSON.stringify(n[e])===JSON.stringify(o[e]))continue;n[e]!==o[e]&&f.push([e,n[e],o[e]])}return f},y=(n,o)=>{const f=[];let e=0;for(const t in n)t in o||(f[e]=[t,n[t]],e++);return f},a=(n,o,f,e)=>{const t=e?n?"[":".":"/",i=e?n?"]":"":n?"[]":"";return o!==""?`${o}${t}${f}${i}`:`${e&&n?"[":""}${f}${i}`},r=(n,o=!1,f={},e="")=>{for(const t of Object.keys(n)){const i=a(Array.isArray(n),e,t,o);typeof n[t]=="object"?(Object.keys(n[t]).length===0&&(f[i]=n[t]),r(n[t],o,f,i)):f[i]=n[t]}return f},p=(n,o,f=!1)=>{const e={added:[],removed:[],edited:[]},t=r(n,f),i=r(o,f);return e.removed=y(t,i),e.added=y(i,t),e.edited=l(t,i),e},g=(n,[o,f])=>{const e=o.split("/");let t=n;const i=e.length-1;for(let d=0;d<i;++d){const s=e[d];s in t||(console.log({key:s}),s.includes("[]")&&s.replace("[]","")),t=t[s]}return t[e[i]]=f,n},u=(n,o)=>{let f=n;return o.removed.forEach(e=>{const t=e[0].replaceAll("\\/.*?\\[]",i=>(console.log("entrei"),`[${i.replaceAll("/","").replaceAll("[]","")}]`));console.log({el:e,cafe:t})}),f};c.addDynamicProperty=g,c.applyDeltaDiff=u,c.getDiff=p,c.getEditedPaths=l,c.getPathsDiff=y,c.getStructPaths=r,Object.defineProperties(c,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
