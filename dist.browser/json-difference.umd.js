(function(a,u){typeof exports=="object"&&typeof module<"u"?u(exports):typeof define=="function"&&define.amd?define(["exports"],u):(a=typeof globalThis<"u"?globalThis:a||self,u(a["json-difference"]={}))})(this,function(a){"use strict";const u=(t,e)=>{const n=[];for(const r in t)if(e.hasOwnProperty(r)){if(typeof t[r]=="object"&&typeof e[r]=="object"&&JSON.stringify(t[r])===JSON.stringify(e[r]))continue;t[r]!==e[r]&&n.push([r,t[r],e[r]])}return n},v=(t,e)=>{const n=[];let r=0;for(const o in t)o in e||(n[r]=[o,t[o]],r++);return n},M=(t,e,n,r)=>{const o=r?t?"[":".":"/",i=r?t?"]":"":t?"[]":"";return e!==""?`${e}${o}${n}${i}`:`${r&&t?"[":""}${n}${i}`},y=(t,e=!1,n={},r="")=>{for(const o of Object.keys(t)){const i=M(Array.isArray(t),r,o,e);typeof t[o]=="object"?(Object.keys(t[o]).length===0&&(n[i]=t[o]),y(t[o],e,n,i)):n[i]=t[o]}return n},A=(t,e,n=!1)=>{const r={added:[],removed:[],edited:[]},o=y(t,n),i=y(e,n);return r.removed=v(o,i),r.added=v(i,o),r.edited=u(o,i),r},H=(t,[e,n])=>{const r=e.split("/");let o=t;const i=r.length-1;for(let f=0;f<i;++f){const g=r[f];g in o||(console.log({key:g}),g.includes("[]")&&g.replace("[]","")),o=o[g]}return o[r[i]]=n,t};var G=typeof global=="object"&&global&&global.Object===Object&&global;const R=G;var K=typeof self=="object"&&self&&self.Object===Object&&self,U=R||K||Function("return this")();const m=U;var J=m.Symbol;const l=J;var j=Object.prototype,X=j.hasOwnProperty,Y=j.toString,p=l?l.toStringTag:void 0;function Z(t){var e=X.call(t,p),n=t[p];try{t[p]=void 0;var r=!0}catch{}var o=Y.call(t);return r&&(e?t[p]=n:delete t[p]),o}var q=Object.prototype,V=q.toString;function B(t){return V.call(t)}var Q="[object Null]",W="[object Undefined]",P=l?l.toStringTag:void 0;function C(t){return t==null?t===void 0?W:Q:P&&P in Object(t)?Z(t):B(t)}function k(t){return t!=null&&typeof t=="object"}var L="[object Symbol]";function $(t){return typeof t=="symbol"||k(t)&&C(t)==L}function tt(t,e){for(var n=-1,r=t==null?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}var et=Array.isArray;const O=et;var nt=1/0,w=l?l.prototype:void 0,D=w?w.toString:void 0;function I(t){if(typeof t=="string")return t;if(O(t))return tt(t,I)+"";if($(t))return D?D.call(t):"";var e=t+"";return e=="0"&&1/t==-nt?"-0":e}function x(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var rt="[object AsyncFunction]",ot="[object Function]",it="[object GeneratorFunction]",at="[object Proxy]";function st(t){if(!x(t))return!1;var e=C(t);return e==ot||e==it||e==rt||e==at}var ct=m["__core-js_shared__"];const T=ct;var E=function(){var t=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function ft(t){return!!E&&E in t}var ut=Function.prototype,lt=ut.toString;function ht(t){if(t!=null){try{return lt.call(t)}catch{}try{return t+""}catch{}}return""}var pt=/[\\^$.*+?()[\]{}|]/g,dt=/^\[object .+?Constructor\]$/,gt=Function.prototype,yt=Object.prototype,_t=gt.toString,bt=yt.hasOwnProperty,vt=RegExp("^"+_t.call(bt).replace(pt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function mt(t){if(!x(t)||ft(t))return!1;var e=st(t)?vt:dt;return e.test(ht(t))}function $t(t,e){return t==null?void 0:t[e]}function z(t,e){var n=$t(t,e);return mt(n)?n:void 0}function Ot(t,e){return t===e||t!==t&&e!==e}var Tt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,St=/^\w*$/;function jt(t,e){if(O(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||$(t)?!0:St.test(t)||!Tt.test(t)||e!=null&&t in Object(e)}var Pt=z(Object,"create");const d=Pt;function Ct(){this.__data__=d?d(null):{},this.size=0}function wt(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var Dt="__lodash_hash_undefined__",It=Object.prototype,xt=It.hasOwnProperty;function Et(t){var e=this.__data__;if(d){var n=e[t];return n===Dt?void 0:n}return xt.call(e,t)?e[t]:void 0}var zt=Object.prototype,Nt=zt.hasOwnProperty;function Ft(t){var e=this.__data__;return d?e[t]!==void 0:Nt.call(e,t)}var Mt="__lodash_hash_undefined__";function At(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=d&&e===void 0?Mt:e,this}function s(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=Ct,s.prototype.delete=wt,s.prototype.get=Et,s.prototype.has=Ft,s.prototype.set=At;function Ht(){this.__data__=[],this.size=0}function _(t,e){for(var n=t.length;n--;)if(Ot(t[n][0],e))return n;return-1}var Gt=Array.prototype,Rt=Gt.splice;function Kt(t){var e=this.__data__,n=_(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Rt.call(e,n,1),--this.size,!0}function Ut(t){var e=this.__data__,n=_(e,t);return n<0?void 0:e[n][1]}function Jt(t){return _(this.__data__,t)>-1}function Xt(t,e){var n=this.__data__,r=_(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function h(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}h.prototype.clear=Ht,h.prototype.delete=Kt,h.prototype.get=Ut,h.prototype.has=Jt,h.prototype.set=Xt;var Yt=z(m,"Map");const Zt=Yt;function qt(){this.size=0,this.__data__={hash:new s,map:new(Zt||h),string:new s}}function Vt(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function b(t,e){var n=t.__data__;return Vt(e)?n[typeof e=="string"?"string":"hash"]:n.map}function Bt(t){var e=b(this,t).delete(t);return this.size-=e?1:0,e}function Qt(t){return b(this,t).get(t)}function Wt(t){return b(this,t).has(t)}function kt(t,e){var n=b(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function c(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}c.prototype.clear=qt,c.prototype.delete=Bt,c.prototype.get=Qt,c.prototype.has=Wt,c.prototype.set=kt;var Lt="Expected a function";function S(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Lt);var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var f=t.apply(this,r);return n.cache=i.set(o,f)||i,f};return n.cache=new(S.Cache||c),n}S.Cache=c;var te=500;function ee(t){var e=S(t,function(r){return n.size===te&&n.clear(),r}),n=e.cache;return e}var ne=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,re=/\\(\\)?/g,oe=ee(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(ne,function(n,r,o,i){e.push(o?i.replace(re,"$1"):r||n)}),e});const ie=oe;function ae(t){return t==null?"":I(t)}function N(t,e){return O(t)?t:jt(t,e)?[t]:ie(ae(t))}var se=1/0;function F(t){if(typeof t=="string"||$(t))return t;var e=t+"";return e=="0"&&1/t==-se?"-0":e}function ce(t,e){e=N(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[F(e[n++])];return n&&n==r?t:void 0}function fe(t,e,n){var r=-1,o=t.length;e<0&&(e=-e>o?0:o+e),n=n>o?o:n,n<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(o);++r<o;)i[r]=t[r+e];return i}function ue(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}function le(t,e){return e.length<2?t:ce(t,fe(e,0,-1))}function he(t,e){return e=N(e,t),t=le(t,e),t==null||delete t[F(ue(e))]}function pe(t,e){return t==null?!0:he(t,e)}const de=(t,e)=>{let n=t;return e.removed.forEach(r=>{n=pe(t,r[0])}),n};a.addDynamicProperty=H,a.applyDeltaDiff=de,a.getDiff=A,a.getEditedPaths=u,a.getPathsDiff=v,a.getStructPaths=y,Object.defineProperties(a,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
