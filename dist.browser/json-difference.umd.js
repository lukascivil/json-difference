(function(s,y){typeof exports=="object"&&typeof module<"u"?y(exports):typeof define=="function"&&define.amd?define(["exports"],y):(s=typeof globalThis<"u"?globalThis:s||self,y(s["json-difference"]={}))})(this,function(s){"use strict";const y=(f,n)=>{const o=[];for(const e in f)if(n.hasOwnProperty(e)){if(typeof f[e]=="object"&&typeof n[e]=="object"&&JSON.stringify(f[e])===JSON.stringify(n[e])||f[e]===n[e])continue;if(f[e]==="@{}"||f[e]==="@[]"){const i=n[e]==="@{}"?{}:n[e]==="@[]"?[]:n[e];f[e]==="@{}"?JSON.stringify(n[e])!=="{}"&&o.push([e,{},i]):JSON.stringify(n[e])!=="[]"&&o.push([e,[],i])}else o.push([e,f[e],n[e]])}return o},p=(f,n)=>{const o=[];let e=0;for(const i in f)if(!(i in n)){const d=f[i]==="@{}"?{}:f[i]==="@[]"?[]:f[i];o[e]=[i,d],e++}return o},t=(f,n,o,e)=>{const i=e?f?"[":".":"/",d=e?f?"]":"":f?"[]":"";return n!==""?`${n}${i}${o}${d}`:`${e&&f?"[":""}${o}${d}`},g=(f,n=!1,o,e="")=>{o===void 0&&(o=Array.isArray(f)?{"":"@[]"}:{"":"@{}"});for(const i of Object.keys(f)){const d=t(Array.isArray(f),e,i,n);typeof f[i]=="object"&&f[i]!==null?(Object.keys(f[i]).length===0?o[d]=f[i]:o[d]=Array.isArray(f[i])?"@[]":"@{}",g(f[i],n,o,d)):o[d]=f[i]}return o},O={isLodashLike:!1},b=(f,n,o)=>{const{isLodashLike:e}=o??O,i={added:[],removed:[],edited:[]},d=g(f,e),c=g(n,e);return i.removed=p(d,c),i.added=p(c,d),i.edited=y(d,c),i};s.getDiff=b,s.getEditedPaths=y,s.getPathsDiff=p,s.getStructPaths=g,Object.defineProperty(s,Symbol.toStringTag,{value:"Module"})});
