(function(f,d){typeof exports=="object"&&typeof module<"u"?d(exports):typeof define=="function"&&define.amd?define(["exports"],d):(f=typeof globalThis<"u"?globalThis:f||self,d(f["json-difference"]={}))})(this,function(f){"use strict";const d=(t,e)=>{const n=[];for(const r in t)if(e.hasOwnProperty(r)){if(typeof t[r]=="object"&&typeof e[r]=="object"&&JSON.stringify(t[r])===JSON.stringify(e[r])||t[r]===e[r])continue;if(t[r]==="@{}"||t[r]==="@[]"){const i=e[r]==="@{}"?{}:e[r]==="@[]"?[]:e[r];t[r]==="@{}"?JSON.stringify(e[r])!=="{}"&&n.push([r,{},i]):JSON.stringify(e[r])!=="[]"&&n.push([r,[],i])}else n.push([r,t[r],e[r]])}return n},j=(t,e)=>{const n=[];let r=0;for(const i in t)if(!(i in e)){const o=t[i]==="@{}"?{}:t[i]==="@[]"?[]:t[i];n[r]=[i,o],r++}return n},K=(t,e,n,r)=>{const i=r?t?"[":".":"/",o=r?t?"]":"":t?"[]":"";return e!==""?`${e}${i}${n}${o}`:`${r&&t?"[":""}${n}${o}`},h=(t,e=!1,n={},r="")=>{for(const i of Object.keys(t)){const o=K(Array.isArray(t),r,i,e);typeof t[i]=="object"&&t[i]!==null?(Object.keys(t[i]).length===0?n[o]=t[i]:n[o]=Array.isArray(t[i])?"@[]":"@{}",h(t[i],e,n,o)):n[o]=t[i]}return n};var _=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function L(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var U="Expected a function",S="__lodash_hash_undefined__",x=1/0,X=9007199254740991,q="[object Function]",z="[object GeneratorFunction]",Y="[object Symbol]",B=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,W=/^\./,Z=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,V=/[\\^$.*+?()[\]{}|]/g,k=/\\(\\)?/g,tt=/^\[object .+?Constructor\]$/,et=/^(?:0|[1-9]\d*)$/,nt=typeof _=="object"&&_&&_.Object===Object&&_,rt=typeof self=="object"&&self&&self.Object===Object&&self,C=nt||rt||Function("return this")();function it(t,e){return t==null?void 0:t[e]}function ot(t){var e=!1;if(t!=null&&typeof t.toString!="function")try{e=!!(t+"")}catch{}return e}var at=Array.prototype,ft=Function.prototype,N=Object.prototype,T=C["__core-js_shared__"],w=function(){var t=/[^.]+$/.exec(T&&T.keys&&T.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),F=ft.toString,y=N.hasOwnProperty,A=N.toString,st=RegExp("^"+F.call(y).replace(V,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),H=C.Symbol,ct=at.splice,ut=R(C,"Map"),l=R(Object,"create"),M=H?H.prototype:void 0,G=M?M.toString:void 0;function c(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function dt(){this.__data__=l?l(null):{}}function pt(t){return this.has(t)&&delete this.__data__[t]}function lt(t){var e=this.__data__;if(l){var n=e[t];return n===S?void 0:n}return y.call(e,t)?e[t]:void 0}function ht(t){var e=this.__data__;return l?e[t]!==void 0:y.call(e,t)}function _t(t,e){var n=this.__data__;return n[t]=l&&e===void 0?S:e,this}c.prototype.clear=dt,c.prototype.delete=pt,c.prototype.get=lt,c.prototype.has=ht,c.prototype.set=_t;function p(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function yt(){this.__data__=[]}function gt(t){var e=this.__data__,n=g(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():ct.call(e,n,1),!0}function bt(t){var e=this.__data__,n=g(e,t);return n<0?void 0:e[n][1]}function mt(t){return g(this.__data__,t)>-1}function Ot(t,e){var n=this.__data__,r=g(n,t);return r<0?n.push([t,e]):n[r][1]=e,this}p.prototype.clear=yt,p.prototype.delete=gt,p.prototype.get=bt,p.prototype.has=mt,p.prototype.set=Ot;function u(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function vt(){this.__data__={hash:new c,map:new(ut||p),string:new c}}function jt(t){return b(this,t).delete(t)}function Ct(t){return b(this,t).get(t)}function Tt(t){return b(this,t).has(t)}function $t(t,e){return b(this,t).set(t,e),this}u.prototype.clear=vt,u.prototype.delete=jt,u.prototype.get=Ct,u.prototype.has=Tt,u.prototype.set=$t;function Et(t,e,n){var r=t[e];(!(y.call(t,e)&&J(r,n))||n===void 0&&!(e in t))&&(t[e]=n)}function g(t,e){for(var n=t.length;n--;)if(J(t[n][0],e))return n;return-1}function It(t){if(!m(t)||At(t))return!1;var e=Rt(t)||ot(t)?st:tt;return e.test(Gt(t))}function Dt(t,e,n,r){if(!m(t))return t;e=wt(e,t)?[e]:xt(e);for(var i=-1,o=e.length,s=o-1,a=t;a!=null&&++i<o;){var O=Mt(e[i]),v=n;if(i!=s){var D=a[O];v=r?r(D,O,a):void 0,v===void 0&&(v=m(D)?D:Nt(e[i+1])?[]:{})}Et(a,O,v),a=a[O]}return t}function St(t){if(typeof t=="string")return t;if(E(t))return G?G.call(t):"";var e=t+"";return e=="0"&&1/t==-x?"-0":e}function xt(t){return P(t)?t:Ht(t)}function b(t,e){var n=t.__data__;return Ft(e)?n[typeof e=="string"?"string":"hash"]:n.map}function R(t,e){var n=it(t,e);return It(n)?n:void 0}function Nt(t,e){return e=e??X,!!e&&(typeof t=="number"||et.test(t))&&t>-1&&t%1==0&&t<e}function wt(t,e){if(P(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||E(t)?!0:Q.test(t)||!B.test(t)||e!=null&&t in Object(e)}function Ft(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function At(t){return!!w&&w in t}var Ht=$(function(t){t=Pt(t);var e=[];return W.test(t)&&e.push(""),t.replace(Z,function(n,r,i,o){e.push(i?o.replace(k,"$1"):r||n)}),e});function Mt(t){if(typeof t=="string"||E(t))return t;var e=t+"";return e=="0"&&1/t==-x?"-0":e}function Gt(t){if(t!=null){try{return F.call(t)}catch{}try{return t+""}catch{}}return""}function $(t,e){if(typeof t!="function"||e&&typeof e!="function")throw new TypeError(U);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=t.apply(this,r);return n.cache=o.set(i,s),s};return n.cache=new($.Cache||u),n}$.Cache=u;function J(t,e){return t===e||t!==t&&e!==e}var P=Array.isArray;function Rt(t){var e=m(t)?A.call(t):"";return e==q||e==z}function m(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function Jt(t){return!!t&&typeof t=="object"}function E(t){return typeof t=="symbol"||Jt(t)&&A.call(t)==Y}function Pt(t){return t==null?"":St(t)}function Kt(t,e,n){return t==null?t:Dt(t,e,n)}var Lt=Kt;const I=L(Lt),Ut=t=>{const e=t.removed.map(i=>{const o={};return I(o,i[0],i[1]),o}),n=t.edited.map(i=>I({},"cafe/123","8888")),r=t.added.map(i=>I({},i[0],i[1]));return{removed:e,edited:n,added:r}},Xt={isLodashLike:!1,isObjectOutput:!1},qt=(t,e,n)=>{const{isLodashLike:r,isObjectOutput:i}=n??Xt;let o={added:[],removed:[],edited:[]};const s=h(t,r),a=h(e,r);return o.removed=j(s,a),o.added=j(a,s),o.edited=d(s,a),i&&(o=Ut(o)),o};f.getDiff=qt,f.getEditedPaths=d,f.getPathsDiff=j,f.getStructPaths=h,Object.defineProperty(f,Symbol.toStringTag,{value:"Module"})});
